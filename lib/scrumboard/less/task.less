.invisible() {
  position: absolute;
  top: -9999em;
}

[board] {

  [story] {

    [list] {

      [tasks] {

        [task] {

          .border-radius;

          &:hover {

            & ~ [task] [type='checkbox'] + label:before {

              content: '';

            }

            label {
              background: darken(@list-well, 40%);
            }

            [buttons] {
              background: darken(@list-well, 40%);
            }

          }

          &.edit {

            input[type='checkbox'] + label {

              [editor] {

                .border-radius;

                display: inline-block !important;
                margin: 0;
              	padding: 5px;
              	outline: none;
              	cursor: text;
	              overflow: auto;
                resize: none;
                color: @text;
                width: 100%;
                max-height: 100px;
                overflow: auto;
                background: darken(@list-well, 5%);
                min-height: 60px;

                &:focus {
                  overflow: visible;
                }
              }

              .task {
                display: none !important;
              }

            }

            input[type='checkbox'] + label::before {
              content: '';
            }

          }

          [editor].error {
            border: 1px solid tomato;
          }

          color: @text;

          .task {

            padding: 10px 10px 10px 10px;
            display: block !important;

          }

          [type='checkbox'] {

            .invisible;

            & + label {

              width: 100%;
              height: 100%;
              margin-bottom: 0 !important;
              font-size: 12px;
              text-align: justify;
              cursor: pointer;
              border-bottom: 1px dotted lighten(@list-well, 15%);
              transition: border-bottom 0.5s ease;
              transition: color 0.5s ease;
            }

            & + label > .task {
              padding: 10px;
              max-height: 45px;
              padding-bottom: 5px;
              overflow: hidden;
            }

            &:checked + label {
              text-decoration: line-through;
              color: lighten(@list, 30%);
              border-bottom: none;


              [buttons] {
                border: none;
                border-top: none;
                border-right: none;
              }

            }

            &:checked + label::before {
              content: '\2714';
              color: @done!important;
              display: inline-block!important;
              padding-left: 10px;
              padding-right: 10px;
              padding-top: 10px;
              float: right;
              top: 0px;
            }

          }

          label {

            display: block;
            padding-top: 0px;

            &:hover {

              & > .task {
                padding: 10px;
                max-height: 150px;
                overflow: hidden;
              }


              & > [buttons] {
                display: inline-block !important;
                .pull-right;
                transition: color 0.5s ease;
                border: 1px solid lighten(@list-well, 15%);
                border-top: none;
                border-right: none;
              }

            }

            & > [editor],
            & > [buttons] {
              width: 100%;
              display: none !important;
            }

          }

        }

      }

    }

  }

}
